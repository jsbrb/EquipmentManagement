<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head('Nueva Asignación de Equipo')}"></head>
<body>
<div class="container">
    <h1 class="mt-4">Nueva Asignación de Equipo</h1>

    <form th:action="@{/equipmentAssignment}" th:object="${assignment}" method="post">

    <!-- Campo oculto para el ID si es necesario -->
        <input type="hidden" th:field="*{id}" />

        <div class="form-group">
            <label for="equipmentId">Equipo</label>
            <select th:field="*{equipmentId}" id="equipmentId" class="form-control" required>
                <option th:each="equipment : ${equipments}"
                        th:value="${equipment.id}"
                        th:text="${equipment.name}">
                    Equipo
                </option>
            </select>
        </div>

        <div class="form-group">
            <label for="operatorId">Operario</label>
            <select th:field="*{operatorId}" id="operatorId" class="form-control" required>
                <option th:each="operator : ${operators}"
                        th:value="${operator.id}"
                        th:text="${operator.name}">
                    Operario
                </option>
            </select>
        </div>

        <div class="form-group">
            <label for="workId">Obra</label>
            <select th:field="*{workId}" id="workId" class="form-control" required>
                <option th:each="work : ${works}"
                        th:value="${work.id}"
                        th:text="${work.name}">
                    Obra
                </option>
            </select>
        </div>

        <div class="form-group">
            <label for="warehouseId">Almacén</label>
            <select th:field="*{warehouseId}" id="warehouseId" class="form-control" required>
                <option th:each="warehouse : ${warehouses}"
                        th:value="${warehouse.id}"
                        th:text="${warehouse.name}">
                    Almacén
                </option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Asignar Equipo</button>
        <a th:href="@{/equipmentAssignment}" class="btn btn-secondary">Volver a la lista de asignaciones</a>
    </form>
</div>

<div th:replace="~{fragments/layout :: footer}"></div>

</body>
</html>
